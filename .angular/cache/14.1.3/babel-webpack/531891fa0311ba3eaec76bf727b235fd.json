{"ast":null,"code":"/*!\n * (C) Ionic http://ionicframework.com - MIT License\n */\nimport { c as writeTask } from './index-88bdeaae.js';\nimport { h as hapticSelectionEnd, a as hapticSelectionStart, b as hapticSelectionChanged } from './haptic-683b3b3c.js';\nimport { createGesture } from './index-3f1a7d95.js';\n\nconst createButtonActiveGesture = (el, isButton) => {\n  let currentTouchedButton;\n  let initialTouchedButton;\n\n  const activateButtonAtPoint = (x, y, hapticFeedbackFn) => {\n    if (typeof document === 'undefined') {\n      return;\n    }\n\n    const target = document.elementFromPoint(x, y);\n\n    if (!target || !isButton(target)) {\n      clearActiveButton();\n      return;\n    }\n\n    if (target !== currentTouchedButton) {\n      clearActiveButton();\n      setActiveButton(target, hapticFeedbackFn);\n    }\n  };\n\n  const setActiveButton = (button, hapticFeedbackFn) => {\n    currentTouchedButton = button;\n\n    if (!initialTouchedButton) {\n      initialTouchedButton = currentTouchedButton;\n    }\n\n    const buttonToModify = currentTouchedButton;\n    writeTask(() => buttonToModify.classList.add('ion-activated'));\n    hapticFeedbackFn();\n  };\n\n  const clearActiveButton = (dispatchClick = false) => {\n    if (!currentTouchedButton) {\n      return;\n    }\n\n    const buttonToModify = currentTouchedButton;\n    writeTask(() => buttonToModify.classList.remove('ion-activated'));\n    /**\n     * Clicking on one button, but releasing on another button\n     * does not dispatch a click event in browsers, so we\n     * need to do it manually here. Some browsers will\n     * dispatch a click if clicking on one button, dragging over\n     * another button, and releasing on the original button. In that\n     * case, we need to make sure we do not cause a double click there.\n     */\n\n    if (dispatchClick && initialTouchedButton !== currentTouchedButton) {\n      currentTouchedButton.click();\n    }\n\n    currentTouchedButton = undefined;\n  };\n\n  return createGesture({\n    el,\n    gestureName: 'buttonActiveDrag',\n    threshold: 0,\n    onStart: ev => activateButtonAtPoint(ev.currentX, ev.currentY, hapticSelectionStart),\n    onMove: ev => activateButtonAtPoint(ev.currentX, ev.currentY, hapticSelectionChanged),\n    onEnd: () => {\n      clearActiveButton(true);\n      hapticSelectionEnd();\n      initialTouchedButton = undefined;\n    }\n  });\n};\n\nexport { createButtonActiveGesture as c };","map":{"version":3,"names":["c","writeTask","h","hapticSelectionEnd","a","hapticSelectionStart","b","hapticSelectionChanged","createGesture","createButtonActiveGesture","el","isButton","currentTouchedButton","initialTouchedButton","activateButtonAtPoint","x","y","hapticFeedbackFn","document","target","elementFromPoint","clearActiveButton","setActiveButton","button","buttonToModify","classList","add","dispatchClick","remove","click","undefined","gestureName","threshold","onStart","ev","currentX","currentY","onMove","onEnd"],"sources":["d:/Github/wose_app/node_modules/@ionic/core/dist/esm/button-active-8937ead0.js"],"sourcesContent":["/*!\n * (C) Ionic http://ionicframework.com - MIT License\n */\nimport { c as writeTask } from './index-88bdeaae.js';\nimport { h as hapticSelectionEnd, a as hapticSelectionStart, b as hapticSelectionChanged } from './haptic-683b3b3c.js';\nimport { createGesture } from './index-3f1a7d95.js';\n\nconst createButtonActiveGesture = (el, isButton) => {\n  let currentTouchedButton;\n  let initialTouchedButton;\n  const activateButtonAtPoint = (x, y, hapticFeedbackFn) => {\n    if (typeof document === 'undefined') {\n      return;\n    }\n    const target = document.elementFromPoint(x, y);\n    if (!target || !isButton(target)) {\n      clearActiveButton();\n      return;\n    }\n    if (target !== currentTouchedButton) {\n      clearActiveButton();\n      setActiveButton(target, hapticFeedbackFn);\n    }\n  };\n  const setActiveButton = (button, hapticFeedbackFn) => {\n    currentTouchedButton = button;\n    if (!initialTouchedButton) {\n      initialTouchedButton = currentTouchedButton;\n    }\n    const buttonToModify = currentTouchedButton;\n    writeTask(() => buttonToModify.classList.add('ion-activated'));\n    hapticFeedbackFn();\n  };\n  const clearActiveButton = (dispatchClick = false) => {\n    if (!currentTouchedButton) {\n      return;\n    }\n    const buttonToModify = currentTouchedButton;\n    writeTask(() => buttonToModify.classList.remove('ion-activated'));\n    /**\n     * Clicking on one button, but releasing on another button\n     * does not dispatch a click event in browsers, so we\n     * need to do it manually here. Some browsers will\n     * dispatch a click if clicking on one button, dragging over\n     * another button, and releasing on the original button. In that\n     * case, we need to make sure we do not cause a double click there.\n     */\n    if (dispatchClick && initialTouchedButton !== currentTouchedButton) {\n      currentTouchedButton.click();\n    }\n    currentTouchedButton = undefined;\n  };\n  return createGesture({\n    el,\n    gestureName: 'buttonActiveDrag',\n    threshold: 0,\n    onStart: (ev) => activateButtonAtPoint(ev.currentX, ev.currentY, hapticSelectionStart),\n    onMove: (ev) => activateButtonAtPoint(ev.currentX, ev.currentY, hapticSelectionChanged),\n    onEnd: () => {\n      clearActiveButton(true);\n      hapticSelectionEnd();\n      initialTouchedButton = undefined;\n    },\n  });\n};\n\nexport { createButtonActiveGesture as c };\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,CAAC,IAAIC,SAAd,QAA+B,qBAA/B;AACA,SAASC,CAAC,IAAIC,kBAAd,EAAkCC,CAAC,IAAIC,oBAAvC,EAA6DC,CAAC,IAAIC,sBAAlE,QAAgG,sBAAhG;AACA,SAASC,aAAT,QAA8B,qBAA9B;;AAEA,MAAMC,yBAAyB,GAAG,CAACC,EAAD,EAAKC,QAAL,KAAkB;EAClD,IAAIC,oBAAJ;EACA,IAAIC,oBAAJ;;EACA,MAAMC,qBAAqB,GAAG,CAACC,CAAD,EAAIC,CAAJ,EAAOC,gBAAP,KAA4B;IACxD,IAAI,OAAOC,QAAP,KAAoB,WAAxB,EAAqC;MACnC;IACD;;IACD,MAAMC,MAAM,GAAGD,QAAQ,CAACE,gBAAT,CAA0BL,CAA1B,EAA6BC,CAA7B,CAAf;;IACA,IAAI,CAACG,MAAD,IAAW,CAACR,QAAQ,CAACQ,MAAD,CAAxB,EAAkC;MAChCE,iBAAiB;MACjB;IACD;;IACD,IAAIF,MAAM,KAAKP,oBAAf,EAAqC;MACnCS,iBAAiB;MACjBC,eAAe,CAACH,MAAD,EAASF,gBAAT,CAAf;IACD;EACF,CAbD;;EAcA,MAAMK,eAAe,GAAG,CAACC,MAAD,EAASN,gBAAT,KAA8B;IACpDL,oBAAoB,GAAGW,MAAvB;;IACA,IAAI,CAACV,oBAAL,EAA2B;MACzBA,oBAAoB,GAAGD,oBAAvB;IACD;;IACD,MAAMY,cAAc,GAAGZ,oBAAvB;IACAX,SAAS,CAAC,MAAMuB,cAAc,CAACC,SAAf,CAAyBC,GAAzB,CAA6B,eAA7B,CAAP,CAAT;IACAT,gBAAgB;EACjB,CARD;;EASA,MAAMI,iBAAiB,GAAG,CAACM,aAAa,GAAG,KAAjB,KAA2B;IACnD,IAAI,CAACf,oBAAL,EAA2B;MACzB;IACD;;IACD,MAAMY,cAAc,GAAGZ,oBAAvB;IACAX,SAAS,CAAC,MAAMuB,cAAc,CAACC,SAAf,CAAyBG,MAAzB,CAAgC,eAAhC,CAAP,CAAT;IACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;IACI,IAAID,aAAa,IAAId,oBAAoB,KAAKD,oBAA9C,EAAoE;MAClEA,oBAAoB,CAACiB,KAArB;IACD;;IACDjB,oBAAoB,GAAGkB,SAAvB;EACD,CAlBD;;EAmBA,OAAOtB,aAAa,CAAC;IACnBE,EADmB;IAEnBqB,WAAW,EAAE,kBAFM;IAGnBC,SAAS,EAAE,CAHQ;IAInBC,OAAO,EAAGC,EAAD,IAAQpB,qBAAqB,CAACoB,EAAE,CAACC,QAAJ,EAAcD,EAAE,CAACE,QAAjB,EAA2B/B,oBAA3B,CAJnB;IAKnBgC,MAAM,EAAGH,EAAD,IAAQpB,qBAAqB,CAACoB,EAAE,CAACC,QAAJ,EAAcD,EAAE,CAACE,QAAjB,EAA2B7B,sBAA3B,CALlB;IAMnB+B,KAAK,EAAE,MAAM;MACXjB,iBAAiB,CAAC,IAAD,CAAjB;MACAlB,kBAAkB;MAClBU,oBAAoB,GAAGiB,SAAvB;IACD;EAVkB,CAAD,CAApB;AAYD,CAzDD;;AA2DA,SAASrB,yBAAyB,IAAIT,CAAtC"},"metadata":{},"sourceType":"module"}